<!-- Daten: 
- sp_game : 
- quiztask_answers : 
- sp_select_answer_id : ID der ausgewählten Antwort
- result : Ergebnis nach Auswertung
-->

<div id="card-body" class="card-body">
    <div id="result">
        {% if result %}
            {{ result.correct_answered }}
            {{ result.answer_message }}
        {% endif %}
    </div>
    <div id="qestion">
        {{ quiztask_answers.quiztask.question }}
    </div>
    <div id="answers">
        <div id="answer_1">
            <span hx-get="{% url 'sp_select_answer' sp_game.id quiztask_answers.quiztask.id quiztask_answers.answers.0.id %}" hx-target="#task-card">
                {{ quiztask_answers.answers.0.answer }}
                {% if selected_answer_id == 0 %} X {% endif %}
            </span>
        </div>
        <div id="answer_2">
            <span hx-get="{% url 'sp_select_answer' sp_game.id quiztask_answers.quiztask.id quiztask_answers.answers.1.id %}" hx-target="#task-card">
                {{ quiztask_answers.answers.1.answer }}
                {% if selected_answer_id == 0 %} X {% endif %}
            </span>
        </div>
        <div id="answer_3">
            <span hx-get="{% url 'sp_select_answer' sp_game.id quiztask_answers.quiztask.id quiztask_answers.answers.2.id %}" hx-target="#task-card">
                {{ quiztask_answers.answers.2.answer }}
                {% if selected_answer_id == 0 %} X {% endif %}
            </span>
        </div>
        <div id="answer_4">
            <span hx-get="{% url 'sp_select_answer' sp_game.id quiztask_answers.quiztask.id quiztask_answers.answers.3.id %}" hx-target="#task-card">
                {{ quiztask_answers.answers.3.answer }}
                {% if selected_answer_id == 0 %} X {% endif %}
            </span>
        </div>
    </div>
</div>
<div id="game-navication">
    <button class="btn btn-primary" hx-get="{% url 'previous_task' sp_game.id quiztask_answers.quiztask.id %}" hx-target="#task-card">Zurück</button>
    {% if selected_answer_id and not sp_game.completed_at%}
        <button class="btn btn-primary" hx-get="{% url 'evaluate_task' sp_game.id quiztask_answers.quiztask.id selected_answer_id %}" hx-target="#task-card">Auswertung</button>
    {% endif %} 
    {% if sp_game.completed_at %}
        <button class="btn btn-primary" hx-get="{% url 'evaluate_task' sp_game.id quiztask_answers.quiztask.id selected_answer_id %}" hx-target="#task-card">Spiel beenden</button>
    {% endif %} 
    <button class="btn btn-primary" hx-get="{% url 'next_task' sp_game.id quiztask_answers.quiztask.id %}" hx-target="#task-card">Weiter</button>
</div>